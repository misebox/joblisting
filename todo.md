# TODO

## 機能追加
- [*] ソート機能の実装
- [x] タグ検索機能の実装
  - タグ選択UI（複数選択可能）
  - タグによるフィルタリング
  - 選択したタグの表示/クリア機能
- [x] 取り込みダイアログ作成
  - 取り込みボタンを追加し、クリックするとダイアログが開く
  - アップロードボタンでファイルを選ぶか、ダイアログ中央にスペースがへファイルをドラッグするとアップロードする。
  - 取り込んだファイルはパースされて取り込まれる。
  - 案件名、会社名、登録／更新　だけリストアップされる。
- [x] 案件hashを追加
  - 各案件にhash列を追加(案件名とhashの複合でユニークキーにする)
  - 案件名,会社名,商流,単価,期間,場所,精算を、それぞれ改行削除したうえで、改行で結合し、blake3で12bitのhashを生成し、base64でエンコードし、=を除去したものを案件hashとする
  - 案件データ取り込み時に案件名と案件hashがどちらも一致したら、同一案件として扱い、追加ではなく更新する。
- [x] パース処理の改善
  - 3件ほどテストケースを追加
  - パース処理のロジックに問題ないか確認



## コンポーネントのリファクタリング

### 1. 重複コードの共通化
- [ ] `formatDate()`関数を`/app/utils/formatting.ts`に移動
  - EntryList.tsxとEntryDetail.tsxで重複
- [ ] ステータスラベル取得ロジックを`/app/utils/status.ts`に移動
  - EntryList.tsxの`getStatusLabel()`とEntryActions.tsxで重複

### 2. 新規コンポーネントの作成
- [ ] `StatusBadge`コンポーネントを作成
  - ステータス表示の共通化
- [ ] `TagList`コンポーネントを作成
  - EntryList.tsxのタグ表示ロジックを抽出
- [ ] `FormField`コンポーネントを作成
  - `.filter-group`パターンの共通化

### 3. その他の改善
- [ ] エラーハンドリングの改善
- [ ] TypeScriptの型定義を厳密化

### 4. DB接続が増え続ける問題を解消
